{% extends 'appointments/base.html' %}
{% block content %}

<style>
    table {
        width: 70%;
        margin: 20px auto;
        border-collapse: collapse;
        background: #fff;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        border-radius: 10px;
        overflow: hidden;
    }

    th, td {
        padding: 15px;
        text-align: center;
        border-bottom: 1px solid #ddd;
    }

    th {
        background: #4CAF50;
        color: white;
        font-size: 18px;
        text-transform: uppercase;
    }

    tr:nth-child(even) {
        background: #f9f9f9;
    }

    tr:hover {
        background: #f1f1f1;
        transition: 0.3s ease-in-out;
    }

    .highlight {
        background-color:rgb(197, 171, 250) !important;  /* Highlight color (yellow) */
        font-weight: bold;
    }

    td:last-child {
        font-weight: bold;
        color: #2e7d32;
    }

    h2 {
        text-align: center;
        font-size: 36px;
        font-weight: 700;
        color: #222;
        margin-bottom: 20px;
        text-transform: uppercase;
        letter-spacing: 1.5px;
        background: linear-gradient(to right, #4CAF50, #2E7D32);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 2px 2px 8px rgba(76, 175, 80, 0.3);
        position: relative;
        display: inline-block;
        padding-bottom: 12px;
    }

    h2::after {
        content: "";
        display: block;
        width: 100px;
        height: 4px;
        background: #4CAF50;  /* Underline effect */
        margin: 8px auto 0;
        border-radius: 2px;
        transition: width 0.3s ease-in-out;
    }

    h2:hover::after {
        width: 120px;
    }

    @media (max-width: 768px) {
        h2 {
            font-size: 30px;
        }

        h2::after {
            width: 80px;
        }
    }
    
</style>

<h2>Leaderboard</h2>
<p style="text-align: center; font-size: 18px;">
    Your Rank: <strong>{{ user_rank }}</strong>
</p>

<table border="1">
    <tr>
        <th>Rank</th>
        <th>Username</th>
        <th>Points</th>
    </tr>
    {% for user in leaderboard %}
    <tr {% if user == current_user %} class="highlight" {% endif %}>
        <td>{{ forloop.counter }}</td>
        <td>{{ user.username }}</td>
        <td>{{ user.total_points|default:0 }}</td>
    </tr>
    {% endfor %}
</table>

{% endblock %}
